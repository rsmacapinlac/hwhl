---
- hosts: 'proxmox_control_node_by_ip'
  remote_user: root
  tasks:
    - name: apt update
      include_tasks: roles/common/tasks/apt-update.yml

#- hosts: "workstations"
#  tasks:
#    - name: apt update
#      include_tasks: roles/common/tasks/apt-update.yml

- hosts: 'pihole'
  remote_user: ansible
  tasks:
    - name: "Update PiHole"
      include_tasks: roles/pihole/tasks/update.yml

- hosts: 'pihole-exporter'
  remote_user: ansible
  tasks:
    - name: "Update PiHole Exporter"
      include_tasks: roles/pihole-exporter/tasks/update.yml

- hosts: "nebula-sync"
  remote_user: ansible
  tasks:
    - name: "Update Nebula Sync"
      include_tasks: roles/nebula-sync/tasks/update.yml

- hosts: "containers"
  remote_user: ansible
  tasks:
    - name: "Update Traefik"
      include_tasks: roles/traefik/tasks/update.yml
    - name: "Update Watchtower"
      include_tasks: roles/watchtower/tasks/update.yml
    - name: "Update Portainer"
      include_tasks: roles/portainer/tasks/update.yml

- hosts: "edge"
  remote_user: ansible
  tasks:
    - name: "Update Traefik"
      include_tasks: roles/traefik/tasks/update.yml

- hosts: "portainer"
  remote_user: ansible
  tasks:
    - name: "Update Portainer"
      include_tasks: roles/portainer/tasks/update.yml

- hosts: "jellyfin"
  remote_user: ansible
  tasks:
    - name: "Update Jellyfin"
      include_tasks: roles/jellyfin/tasks/update.yml

- hosts: "audiobookshelf"
  remote_user: ansible
  tasks:
    - name: "Update Audiobookshelf"
      include_tasks: roles/audiobookshelf/tasks/update.yml

#- hosts: 'managed_hosts'
#  remote_user: ansible
#  tasks:
#    - name: "Update BorgBackup"
 #     include_tasks: roles/borgbackup/tasks/update.yml

#- hosts: 'containers:watchtower:dns:edge'
#  remote_user: ansible
#  tasks:
#    - name: "Update containers"
#      include_tasks: roles/watchtower/tasks/update.yml

